<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esfera com RayCasting</title>
    <style>
        /* Centraliza conteúdo: */ body { display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        /* Define borda para o Canvas: */ canvas { border: 1px solid black; }
    </style>
</head>
<body><canvas id="canvas" width="800" height="600"></canvas></body>
<script src="js/point.js"></script>
<script src="js/color.js"></script>
<script src="js/renderer.js"></script>
<script>
    const config = {
        // resolução de 4000x3000 quadrados
            nCol: 4000, // número de colunas do quadro 
            nLin: 3000, // número de linhas do quadro
        // câmera
            wJanela: 4, // metros
            hJanela: 3, // metros
            dJanela: 5, // metros
        // esfera
            rEsfera: 1.5, // metros
            centroEsfera: new Point(0, 0, -8),
        // cores
            esfColor: new Color(1.0, 0.0, 0.0),   // vermelho  
            bgColor: new Color(0.39, 0.39, 0.39), // cinza
        // iluminação
            lightIntensity: new Color(0.7, 0.7, 0.7),        // I  = intensidade da fonte de luz
            lightPosition: new Point(0, 5, 0),               // Lm = posição da fonte de luz
            diffuseReflection: new Color(1.0, 0.0, 0.0),     // Kd = coeficiente de difusão (vermelho)
            specularReflection: new Color(1.0, 1.0, 1.0),    // Ks = coeficiente de especularidade (branco)
            sphereShininess : 20.0                           // α  = brilho do material (da esfera)
    }

    renderer = new Renderer();

    vertices = [
        // dois triângulos formam um retângulo
        // t1: x,  y
              -1, -1,
               1, -1,
              -1,  1,
        // t2: x,  y
              -1,  1,
               1, -1,
               1,  1,
    ]
    
    renderer.setPositionBuffer(vertices)

    renderer.setParams({
        // tela
            "nCol": [1, config.nCol],
            "nLin": [1, config.nLin],
        // camera
            "wJanela": [1, config.wJanela],
            "hJanela": [1, config.hJanela],
            "dJanela": [1, config.dJanela],
        // esfera
            "rEsfera": [1, config.rEsfera],
            "centroEsfera": [3, config.centroEsfera.toArray()],
        // cores
            "esfColor": [3, config.esfColor.toArray()],
            "bgColor": [3, config.bgColor.toArray()],
        // iluminação
            "lightIntensity": [3, config.lightIntensity.toArray()],
            "lightPosition": [3, config.lightPosition.toArray()],
            "diffuseReflection": [3, config.diffuseReflection.toArray()],
            "specularReflection": [3, config.specularReflection.toArray()],
            "materialShininess": [1, config.sphereShininess]
    })

    renderer.clear(config.bgColor)
    renderer.render()
</script>
</html>